# カスタムフック設計の見直し

**作業日**: 2026-01-01
**担当**: Claude Code
**ステータス**: 完了（調査のみ）

## 目的

カスタムフックの設計を見直し、以下の問題を解決する：
- カスタムフックをまとめすぎている
- カスタムフック内でカスタムフックを呼んでいる（usecaseのネストのような設計）
- 適切な責務分離と再利用性の確保

## 作業内容

### 21:39 - 作業開始・現状調査

- プロジェクト内のカスタムフックを列挙
- 問題のあるフックを特定
- useExerciseTableActions を調査

### 21:42 - 問題点の特定

- `useExerciseTableActions` が4つのカスタムフックを内部で呼んでいる
- 責務が多すぎる（UI状態管理、API呼び出し、通知表示）

## 完了サマリー

### 特定した問題点

1. **useExerciseTableActions の責務過多**
   - useUpdateExercise()
   - useDeleteExercise()
   - useSuccessSnackbar()
   - useErrorSnackbar()
   - 上記4つのカスタムフックを内部で呼んでいる

2. **リファクタリング案**
   - 案1: カスタムフックを廃止してコンポーネント内に直接記述
   - 案2: UI状態管理のみに特化
   - 案3: Presenter/Containerパターン

### 次のステップ

- ユーザーが案1を選択
- Storybook実装を優先
- リファクタリングは後日実施

## 備考

- ユーザーからの懸念: カスタムフック内でカスタムフックを呼ぶアンチパターン
- usecase内でusecaseを呼ぶような気持ち悪さがある
- 実装は保留、Storybook実装を優先
